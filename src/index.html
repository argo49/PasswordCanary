<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]><html class="no-js lt-ie10 lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie10 lt-ie9"> <![endif]-->
<!--[if IE 9]><html class="no-js lt-ie10"> <![endif]-->
<!--[if gt IE 8]><!--> <html> <!--<![endif]-->
<head>
    <title>PasswordCanary</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript">function loadCSS(a,b,c){"use strict";var d=window.document.createElement("link"),e=b||window.document.getElementsByTagName("script")[0];d.rel="stylesheet",d.href=a,d.media="only x",e.parentNode.insertBefore(d,e),setTimeout(function(){d.media=c||"all"})}function loadJS(a){"use strict";var b=window.document.getElementsByTagName("script")[0],c=window.document.createElement("script");return c.src=a,b.parentNode.insertBefore(c,b),c}loadCSS("https://fonts.googleapis.com/css?family=Lato:300,400,700"),loadCSS("http://fonts.googleapis.com/css?family=Trocchi"),loadCSS("http://fonts.googleapis.com/css?family=Special+Elite"),loadCSS("css/styles.css"),loadJS("js/scripts.js");</script>
</head>
<body>
    <div class="container">
        <div class="row clearfix title">
            <div class="column full">
                <h1>PasswordCanary</h1>
            </div>
        </div>
        <div class="row clearfix email">
            <div class="column full">
                <form>
                    <label for="email">Enter the email address that is associated to the account(s) you wish to monitor.</label>
                    <div>
                        <input class="input" id="email" name="email" type="text" placeholder="Email"/>
                        <button type="submit">Warn Me</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="row clearfix flip">
            <div class="column full">
                <h2>Compromised Email Addresses (<span class="counter"></span>)</h2>
                <div class="email-item active">
                    <div class="address">f<span>xxxx</span>k1@<span>xxxxxxx</span>.com</div>
                    <div class="timestamp">20 mins ago</div>
                </div>
                <div class="email-item">
                    <div class="address">f<span>xxxx</span>k2@<span>xxxxxxx</span>.com</div>
                    <div class="timestamp">20 mins ago</div>
                </div>
                <div class="email-item">
                    <div class="address">f<span>xxxx</span>k3@<span>xxxxxxx</span>.com</div>
                    <div class="timestamp">20 mins ago</div>
                </div>
                <div class="email-item">
                    <div class="address">f<span>xxxx</span>k4@<span>xxxxxxx</span>.com</div>
                    <div class="timestamp">20 mins ago</div>
                </div>
                <div class="email-item">
                    <div class="address">f<span>xxxx</span>k5@<span>xxxxxxx</span>.com</div>
                    <div class="timestamp">20 mins ago</div>
                </div>
                <div class="email-item">
                    <div class="address">f<span>xxxx</span>k6@<span>xxxxxxx</span>.com</div>
                    <div class="timestamp">20 mins ago</div>
                </div>
                <div class="email-item">
                    <div class="address">f<span>xxxx</span>k7@<span>xxxxxxx</span>.com</div>
                    <div class="timestamp">20 mins ago</div>
                </div>
            </div>
        </div>
        <div class="row clearfix">
            <div class="column full">
                <h2>About this Site</h2>
                <p>Often times when databases are compromised, usernames, emails and passwords are taken from these databases and put on different websites and forums for everyone to see. We monitor these website to see if your email pops up, and we'll send you an email if that happens.</p>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript">

        $(document).ready(function () {
            var title         = $('.row.title');
            var emailForm     = $('.row.email');
            var flip          = $('.row.flip');
            var jqWindow      = $(window);
            var activeAddress = flip.find('.active');
            var flipCycle;
            // initial DB number
            var count = 0;

            function adjustFlip () {
                flip.height(jqWindow.height() - title.outerHeight() - emailForm.outerHeight());
            }

            adjustFlip();
            jqWindow.resize(function(event) {
                adjustFlip();
            });

            function loadAddresses () {

            }

            cycleAddresses();

            function cycleAddresses () {
                var time = Math.floor(Math.random() * 1500) + 500;
                console.log(time);
                flipCycle = window.setTimeout(function () {
                    animateAddress();
                    cycleAddresses();
                    incrementCount();
                }, time);
            }

            function incrementCount () {
                count++;
                var jqCounter = flip.find('h2 span');
                jqCounter.text(count);
            }

            function clearCycle () {
                window.clearInterval(flipCycle);
                flipCycle = null;
            }

            function animateAddress () {
                var nextAddress = getNextInList(activeAddress);

                activeAddress.removeClass('active');

                nextAddress.addClass('active');

                activeAddress = nextAddress;

            }

            function getNextInList (item) {
                var nextItem = item.next();

                if (nextItem.length) {
                    return nextItem;
                } else {
                    return flip.find('.email-item').first();
                }
            }

            function getPrevInList (item) {
                var prevItem = item.prev();

                if (prevItem.length) {
                    return prevItem;
                } else {
                    return flip.find('.email-item').last();
                }
            }

        });
    </script>
</body>
</html>
